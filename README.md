# ipc_test

<div class="ak-renderer-document"><p data-renderer-start-pos="1">V IPC(Message Queue, Shared Memory, Semaphore)</p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="51">The common basic elements used by the system VIPC are the <em data-renderer-mark="true">keys</em> and <em data-renderer-mark="true">identifiers</em>.</p></li></ul><hr><p data-renderer-start-pos="135">IPC instance</p><p data-renderer-start-pos="149"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/ipc.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">IPC_PRIVATE</code><a href="https://pubs.opengroup.org/onlinepubs/007908799/xsh/sysipc.h.html" title="https://pubs.opengroup.org/onlinepubs/007908799/xsh/sysipc.h.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="191">Constant</p></li></ul><p data-renderer-start-pos="203">&nbsp;</p><p data-renderer-start-pos="205"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/ipc.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">key_t ftok(const char *path, int id)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/ftok.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/ftok.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="272">return a key based on <em data-renderer-mark="true">path</em> and <em data-renderer-mark="true">id</em></p></li></ul><p data-renderer-start-pos="309">&nbsp;</p><p data-renderer-start-pos="311"><code class="code css-z5oxh7" data-renderer-mark="true">ipcs [-aAbciJmopqstZ] [-D mtype]</code><a href="https://pubs.opengroup.org/onlinepubs/009604499/utilities/ipcs.html" title="https://pubs.opengroup.org/onlinepubs/009604499/utilities/ipcs.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="353">write information about active interprocess communication facilities</p></li></ul><p data-renderer-start-pos="425">&nbsp;</p><p data-renderer-start-pos="427"><code class="code css-z5oxh7" data-renderer-mark="true">ipcrm [-m shmid] [-q msqid] [-s semid] [-M shmkey] [-Q ,sgleu] [-S semkey]</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/ipcrm.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/utilities/ipcrm.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="511">remove zero or more message queues, semaphore sets, or shared memory segments</p></li></ul><hr><p data-renderer-start-pos="593">Message Queue</p><p data-renderer-start-pos="608"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/msg.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">int msgget(key_t key, int msgflg)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/msgget.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/msgget.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="672">create a message queue</p></li></ul><p data-renderer-start-pos="698">&nbsp;</p><p data-renderer-start-pos="700"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/msg.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">int msgsnd(int msqid, const void *msgp, size_t msgsz, int msgflg)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/msgsnd.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/msgsnd.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="796">send a message</p></li></ul><p data-renderer-start-pos="814">&nbsp;</p><p data-renderer-start-pos="816"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/msg.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">ssize_t msgrcv(int msqid, void *msgp, size_t msgsz, long msgtyp, int msgflg)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/msgrcv.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/msgrcv.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="923">read a message</p></li></ul><p data-renderer-start-pos="941">&nbsp;</p><p data-renderer-start-pos="943"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/msg.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">int msgctl(int msqid, int cmd, struct msqid_ds *buf)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/msgctl.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/msgctl.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="1026">provide message control operations as specified by <em data-renderer-mark="true">cmd</em></p></li></ul><hr><p data-renderer-start-pos="1085">Shared Memory</p><p data-renderer-start-pos="1100"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/shm.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">int shmget(key_t key, size_t size, int shmflg)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/shmget.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/shmget.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="1177">create a shared memory</p></li></ul><p data-renderer-start-pos="1203">&nbsp;</p><p data-renderer-start-pos="1205"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/shm.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">void *shmat(int shmid, const void *shmaddr, int shmflg)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/shmat.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/shmat.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="1291">attach a shared memory</p></li></ul><p data-renderer-start-pos="1317">&nbsp;</p><p data-renderer-start-pos="1319"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/shm.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">int shmdt(const void *shmaddr)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/shmdt.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/shmdt.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="1380">detach a shared memory</p></li></ul><p data-renderer-start-pos="1406">&nbsp;</p><p data-renderer-start-pos="1408"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/shm.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">int shmctl(int shmid, int cmd, struct shmid_ds *buf)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/shmctl.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/shmctl.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="1491">provides a variety of shared memory control operations as specified by <em data-renderer-mark="true">cmd</em></p></li></ul><hr><p data-renderer-start-pos="1570">Semaphore</p><p data-renderer-start-pos="1581"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/sem.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">int semget(key_t key, int nsems, int semflg)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/semget.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/semget.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="1656">create a semaphore</p></li></ul><p data-renderer-start-pos="1678">&nbsp;</p><p data-renderer-start-pos="1680"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/sem.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">int semctl(int semid, int semnum, int cmd, ...)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/semctl.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/semctl.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="1758">provides a variety of semaphore control operations as specified by <em data-renderer-mark="true">cmd</em></p></li></ul><p data-renderer-start-pos="1832">&nbsp;</p><p data-renderer-start-pos="1834"><code class="code css-z5oxh7" data-renderer-mark="true">#include &lt;sys/sem.h&gt;</code><br><code class="code css-z5oxh7" data-renderer-mark="true">int semop(int semid, struct sembuf *sops, size_t nsops)</code><a href="https://pubs.opengroup.org/onlinepubs/9699919799/functions/semop.html" title="https://pubs.opengroup.org/onlinepubs/9699919799/functions/semop.html" data-renderer-mark="true" class="css-tgpl01">(link)</a></p><ul class="ak-ul" data-indent-level="1"><li><p data-renderer-start-pos="1920">perform semaphore operations</p></li></ul></div>
